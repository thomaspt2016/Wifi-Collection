{% extends 'client/clienthome.html' %}

{% load static %}
{% block title %}
<title>History</title>
{% endblock %}
{% block content %}
<div class="p-4"> {# Added padding for consistent spacing #}
    <div class="w-full space-y-4 py-6 px-10 bg-white dark:bg-gray-700 rounded-lg shadow-xl border border-gray-200 dark:border-gray-600 text-center">
        <h2 class="mt-4 text-center text-2xl font-extrabold text-gray-900 dark:text-white">
            Welcome to the Main Content Area!
        </h2>
        <p class="mt-1 text-center text-md text-gray-600 dark:text-gray-300 mb-6">
            Client FAQ Raising Page
        </p>
    </div>

    <div class="my-8"></div> {# Adds some vertical space #}

    <div class="w-full">
        <div class="bg-white dark:bg-gray-700 rounded-lg shadow-xl border border-gray-200 dark:border-gray-600 p-6">
            <h2 class="text-2xl font-extrabold text-gray-900 dark:text-white mb-6 text-center">
                How to Connect to the Network
            </h2>
            <div id="network-accordion" data-accordion="collapse">
                <h2 id="network-accordion-heading-1">
                    <button type="button" class="flex items-center justify-between w-full p-5 font-medium 
                    rtl:text-right text-gray-500 border border-gray-200 border-b-0
                    rounded-t-xl focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-800 dark:border-gray-700 dark:text-gray-400 
                    hover:bg-gray-100 dark:hover:bg-gray-800 gap-3" data-accordion-target="#network-accordion-body-1" aria-expanded="true" aria-controls="network-accordion-body-1">
                        <span class="text-lg font-semibold text-gray-900 dark:text-white">Step 1: Connect to the Open Network</span>
                        <svg data-accordion-icon class="w-3 h-3 rotate-180 shrink-0" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5 5 1 1 5"/>
                        </svg>
                    </button>
                </h2>
                <div id="network-accordion-body-1" class="hidden" aria-labelledby="network-accordion-heading-1">
                    <div class="p-5 border border-b-0 border-gray-200 dark:border-gray-700 dark:bg-gray-900">
                        <p class="mb-2 text-gray-700 dark:text-gray-300">
                            First, locate and connect to our **open network** from your device's Wi-Fi settings. You won't need a password for this initial connection.
                        </p>
                    </div>
                </div>

                <h2 id="network-accordion-heading-2">
                    <button type="button" class="flex items-center justify-between w-full p-5 font-medium 
                    rtl:text-right text-gray-500 border border-gray-200 border-b-0
                    focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-800 dark:border-gray-700 dark:text-gray-400 
                    hover:bg-gray-100 dark:hover:bg-gray-800 gap-3" data-accordion-target="#network-accordion-body-2" aria-expanded="false" aria-controls="network-accordion-body-2">
                        <span class="text-lg font-semibold text-gray-900 dark:text-white">Step 2: Disable Random MAC Address</span>
                        <svg data-accordion-icon class="w-3 h-3 shrink-0" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5 5 1 1 5"/>
                        </svg>
                    </button>
                </h2>
                <div id="network-accordion-body-2" class="hidden" aria-labelledby="network-accordion-heading-2">
                    <div class="p-5 border border-b-0 border-gray-200 dark:border-gray-700 dark:bg-gray-900">
                        <p class="mb-2 text-gray-700 dark:text-gray-300">
                            To ensure a stable connection and successful login, you **must disable the Random MAC Address** (or Private Wi-Fi Address) option in your device's Wi-Fi settings for our network. This setting can interfere with the authentication process.
                        </p>
                        <ul class="list-disc pl-5 text-gray-700 dark:text-gray-300">
                            <li>**For iOS:** Go to Settings > Wi-Fi, tap the "i" icon next to our network, and toggle off "Private Wi-Fi Address."</li>
                            <li>**For Android:** Go to Settings > Network & Internet > Wi-Fi, tap the gear icon next to our network, then go to Advanced/Privacy and select "Use device MAC."</li>
                            <li>**For Windows:** Go to Settings > Network & Internet > Wi-Fi, click on our network, and turn off "Random hardware addresses."</li>
                        </ul>
                    </div>
                </div>

                <h2 id="network-accordion-heading-3">
                    <button type="button" class="flex items-center justify-between w-full p-5 font-medium 
                    rtl:text-right text-gray-500 border border-gray-200 
                    focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-800 dark:border-gray-700 dark:text-gray-400 
                    hover:bg-gray-100 dark:hover:bg-gray-800 gap-3" data-accordion-target="#network-accordion-body-3" aria-expanded="false" aria-controls="network-accordion-body-3">
                        <span class="text-lg font-semibold text-gray-900 dark:text-white">Step 3: Log In to the Wi-Fi Network</span>
                        <svg data-accordion-icon class="w-3 h-3 shrink-0" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5 5 1 1 5"/>
                        </svg>
                    </button>
                </h2>
                <div id="network-accordion-body-3" class="hidden" aria-labelledby="network-accordion-heading-3">
                    <div class="p-5 border border-gray-200 dark:border-gray-700 dark:bg-gray-900">
                        <p class="mb-2 text-gray-700 dark:text-gray-300">
                            After connecting to the open network and disabling your random MAC address, a login page will automatically appear (or you may need to open your browser). On this page, you'll be prompted to **enter a unique code** you have received.
                        </p>
                        <p class="mb-2 text-red-600 dark:text-red-400 font-bold">
                            **Important:** Each code is valid for **one device only**. If you attempt to use the same code on multiple devices, it will be automatically blocked and invalidated for all subsequent attempts.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.3.0/flowbite.min.js" defer></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Your existing message alert script
        const messageAlerts = document.querySelectorAll('.message-alert');
        messageAlerts.forEach(function(alert) {
            setTimeout(function() {
                alert.style.transition = 'opacity 0.5s ease-out';
                alert.style.opacity = '0';
                setTimeout(function() {
                    alert.style.display = 'none';
                }, 500); // Wait for the fade-out transition to complete
            }, 1000); // 1 second delay before starting to fade
        });

        // Accordion functionality for the new network guide
        const networkAccordionButtons = document.querySelectorAll('#network-accordion [data-accordion-target]');

        networkAccordionButtons.forEach(button => {
            button.addEventListener('click', () => {
                const targetId = button.getAttribute('data-accordion-target');
                const targetBody = document.querySelector(targetId);
                const isExpanded = button.getAttribute('aria-expanded') === 'true';

                // Close all other accordions within this specific 'network-accordion'
                networkAccordionButtons.forEach(otherButton => {
                    if (otherButton !== button) {
                        const otherTargetId = otherButton.getAttribute('data-accordion-target');
                        const otherTargetBody = document.querySelector(otherTargetId);
                        otherButton.setAttribute('aria-expanded', 'false');
                        otherTargetBody.classList.add('hidden');
                        otherButton.querySelector('svg').classList.remove('rotate-180');
                    }
                });

                // Toggle current accordion
                button.setAttribute('aria-expanded', !isExpanded);
                targetBody.classList.toggle('hidden');
                button.querySelector('svg').classList.toggle('rotate-180', !isExpanded);
            });
        });
    });
</script>
{% endblock %}